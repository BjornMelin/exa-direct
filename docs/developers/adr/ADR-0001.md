# ADR-0001: Direct Exa Integration (REST + SDK) Instead of MCP

**Date:** 2025-10-16  
**Status:** Accepted  
**Drivers:** Endpoint coverage (incl. exa-research-fast), latency, minimal deps, shell/CI ergonomics.

## Context

The CLI must support Search, Contents, Find Similar, Answer, Research (Create/Get/List + Poll + SSE), and Context.
MCP schemas lag features and may omit models like `exa-research-fast` while REST surface is current.

## Decision

Integrate directly with Exa via REST and the official Python SDK (`exa_py`). No MCP dependency.

### Decision Framework Scoring

| Option                          | Coverage | Latency | Ergonomics | Invocability | Maintenance | Extensibility | Weighted |
|---------------------------------|----------|---------|------------|--------------|-------------|---------------|----------|
| **Direct API + SDK (FINAL)**    | 10       | 8.5     | 10         | 9            | 9           | 9             | 9.25     |
| Hybrid (Direct + MCP fa√ßade)    | 8        | 8       | 9          | 8            | 7           | 9             | 8.20     |
| MCP-only                        | 7        | 7       | 8          | 8            | 6           | 7             | 7.05     |

## Consequences

- Pros: Maximum feature access; fast iteration; simple invocation.
- Cons: We own minimal SSE/poll logic; no MCP guardrails.
- Risks: API evolution; mitigated by pinning SDK and keeping cURL docs current.

## Alternatives Considered

- MCP-only; Hybrid approach.

## Implementation Notes

- REST for streaming and certain endpoints; `exa_py` for convenience.
- Deps: `requests`, `exa_py`.

## References

- <https://exa.ai/blog/exa-api-2-0>  
- <https://docs.exa.ai/reference/search>  
- <https://docs.exa.ai/reference/get-contents>  
- <https://docs.exa.ai/reference/find-similar-links>  
- <https://docs.exa.ai/reference/answer>  
- <https://docs.exa.ai/reference/research/create-a-task>  
- <https://docs.exa.ai/reference/research/get-a-task>  
- <https://docs.exa.ai/reference/research/list-tasks>  
- <https://docs.exa.ai/reference/context>  
- <https://docs.exa.ai/reference/how-exa-search-works>  
- <https://docs.exa.ai/reference/livecrawling-contents>
